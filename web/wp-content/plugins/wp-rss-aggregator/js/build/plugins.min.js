!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.WPRA=t():e.WPRA=t()}("undefined"!=typeof self?self:this,function(){return webpackJsonpWPRA([3],{21:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(4),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wpra-plugin-disable-poll"},[a("modal",{attrs:{active:e.isModalVisible,"header-class":"invisible-header"},on:{close:e.closeModal}},[a("div",{attrs:{slot:"header"},slot:"header"},[a("div",{staticClass:"wpra-plugin-disable-poll__logo"},[a("img",{attrs:{src:e.image("light-line-logo.png"),alt:""}})]),e._v(" "),a("h3",[e._v("\n                Do you have a moment to share why you are deactivating WP RSS Aggregator?\n            ")]),e._v(" "),a("p",[e._v("\n                Your feedback will help us to improve our plugins and service.\n            ")])]),e._v(" "),a("div",{attrs:{slot:"body"},slot:"body"},[a("SerializedForm",{attrs:{form:e.form},model:{value:e.model,callback:function(t){e.model=t},expression:"model"}})],1),e._v(" "),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("div",{staticClass:"footer-confirm__buttons"},[a("button",{staticClass:"button button-clear",on:{click:e.deactivate}},[e._v("\n                    Skip & Deactivate\n                ")]),e._v(" "),a("button",{staticClass:"button button-primary",class:{"loading-button":e.isDeactivating},on:{click:e.submit}},[e._v("\n                    Submit & Deactivate\n                ")])])])])],1)},i=[],l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("transition",{attrs:{name:"modal-transition"}},[e.active?a("div",{staticClass:"modal",on:{click:function(t){return t.target!==t.currentTarget?null:e.$emit("close")}}},[a("div",{class:["modal__body",this.modalBodyClass]},[a("div",{staticClass:"modal__header",class:e.headerClass},[e._t("header")],2),e._v(" "),a("div",{staticClass:"modal__content"},[e._t("body")],2),e._v(" "),a("div",{staticClass:"modal__footer"},[e._t("footer")],2)])]):e._e()])},s=[],r={props:{active:{type:Boolean},title:{type:String},modalBodyClass:{type:String,default:""},headerClass:{default:function(){return{}}},dialogOpenedClass:{type:String,default:"modal-opened"}},watch:{active:function(e){this.$emit(e?"open":"close")}},mounted:function(){var e=this;this.$on("open",function(){document.querySelector("body").classList.add(e.dialogOpenedClass)}),this.$on("close",function(){document.querySelector("body").classList.remove(e.dialogOpenedClass)})}},d=r,c=a(1),u=Object(c.a)(d,l,s,!1,null,null,null),m=u.exports,p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form"},e._l(e.form,function(t){return e.satisfiesCondition(t)?a("div",{staticClass:"form-group"},["radio"===t.type?[t.label?a("label",{attrs:{for:t.name},domProps:{innerHTML:e._s(t.label)}}):e._e(),e._v(" "),e._l(t.options,function(o,n){return a("div",{staticClass:"form-check"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.model[t.name],expression:"model[datum.name]"}],attrs:{type:"radio",name:t.name,id:t.name+"_"+n},domProps:{value:o.value,checked:e._q(e.model[t.name],o.value)},on:{change:function(a){return e.$set(e.model,t.name,o.value)}}}),e._v(" "),a("label",{attrs:{for:t.name+"_"+n}},[e._v("\n                    "+e._s(o.label||o.value)+"\n                ")])])})]:e._e(),e._v(" "),"textarea"===t.type?[t.label?a("label",{attrs:{for:t.name},domProps:{innerHTML:e._s(t.label)}}):e._e(),e._v(" "),a("textarea",{directives:[{name:"model",rawName:"v-model",value:e.model[t.name],expression:"model[datum.name]"}],attrs:{id:t.name},domProps:{value:e.model[t.name]},on:{input:function(a){a.target.composing||e.$set(e.model,t.name,a.target.value)}}})]:e._e(),e._v(" "),"content"===t.type?[a("div",{class:t.className},[a("p",{domProps:{innerHTML:e._s(t.label)}})])]:e._e()],2):e._e()}),0)},v=[],f={props:{form:{type:Array},value:{type:Object}},computed:{model:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},methods:{satisfiesCondition:function(e){if(!e.condition)return!0;var t=this.getConditionFunction(e.condition.operator);return!!t&&t(e.condition.field,e.condition.value)},getConditionFunction:function(e){var t=this,a={"=":function(e,a){return t.model[e]===a}};return a[e]?a[e]:null}}},_=f,b=Object(c.a)(_,p,v,!1,null,null,null),h=b.exports,g=a(9),y=a.n(g),C=document.querySelector('[data-slug="wp-rss-aggregator"] .deactivate a'),P={components:{Modal:m,SerializedForm:h},data:function(){return{isDeactivating:!1,deactivateUrl:null,submitUrl:WrpaDisablePoll.url,model:WrpaDisablePoll.model,form:WrpaDisablePoll.form,audience:WrpaDisablePoll.audience||100,isModalVisible:!1}},watch:{"model.reason":function(){this.model.follow_up=null}},mounted:function(){this.getRandomInt(0,100)<this.audience&&C.addEventListener("click",this.handleDeactivateClick)},methods:{getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e},image:function(e){return WrpaDisablePoll.image+e},handleDeactivateClick:function(e){this.isModalVisible||(e.preventDefault(),this.isModalVisible=!0)},closeModal:function(){this.isModalVisible=!1,this.deactivateUrl=null},submit:function(){var e=this;this.isDeactivating=!0,y.a.post(this.submitUrl,this.model,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(){e.deactivate()}).finally(function(){e.isDeactivating=!1})},deactivate:function(){C.click()}}},D=P,w=Object(c.a)(D,n,i,!1,null,null,null),M=w.exports;a(22),new o.a({el:"#wpra-plugins-app",template:"<PluginDisablePoll/>",components:{PluginDisablePoll:M}})},22:function(e,t){}},[21])});